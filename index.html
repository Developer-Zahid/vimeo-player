<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vimeo Player</title>

    <link rel="stylesheet" href="./css/style.css">
</head>
<body>
    <nav>
        <a href="./index.html" class="active">With vimeo iframe</a>
        <a href="./source.html">With vimeo source video</a>
    </nav>
    <div class="media-list">
        <figure class="media-figure">
            <iframe class="media-figure__bg" src="https://player.vimeo.com/video/875642579?h=273c8d60f0&loop=1" frameborder="0" allow="fullscreen; picture-in-picture" allowfullscreen></iframe>
        </figure>
        <figure class="media-figure">
            <iframe class="media-figure__bg" src="https://player.vimeo.com/video/875645539?h=ab16447bd1&loop=1" frameborder="0" allow="fullscreen; picture-in-picture" allowfullscreen></iframe>
        </figure>
    </div>
    

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <!-- Start: Way 2 script -->
    <script type="text/javascript" src="./plugins/vimeo/js/jquery.vimeo.api.min.js"></script>
    <!-- End: Way 2 script -->
    <script>
        $(document).ready(function () {
            // Way 1
            // $('.media-figure').each(function(index, item){
            //     let currentIframeElement = item.querySelector('iframe').contentWindow
            //     $(this).on('mouseover', function () {
            //         currentIframeElement.postMessage('{"method":"play"}', '*')
            //     })
            //     $(this).on('mouseout', function () {
            //         currentIframeElement.postMessage('{"method":"pause"}', '*')
            //     })
            // })
            
            // Way 2
            $('.media-figure').each(function(index, item){
                const currentIframeElement = $(this).find('iframe')
                $(this).on('mouseover', ()=> {
                    currentIframeElement.vimeo("play");
                })
                $(this).on('mouseout', ()=> {
                    currentIframeElement.vimeo("pause");
                })
            })
        });
    </script>
</body>
</html>